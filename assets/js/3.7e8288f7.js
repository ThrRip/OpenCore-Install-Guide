(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{360:function(a,t,s){a.exports=s.p+"assets/img/macrecovery.af5c41c1.png"},361:function(a,t,s){a.exports=s.p+"assets/img/download-done.05d30da0.png"},371:function(a,t,s){a.exports=s.p+"assets/img/format-usb.83a24b13.png"},499:function(a,t,s){a.exports=s.p+"assets/img/gib.b3fe2322.png"},500:function(a,t,s){a.exports=s.p+"assets/img/gib-process.c5982045.png"},501:function(a,t,s){a.exports=s.p+"assets/img/final-download.3c533738.png"},502:function(a,t,s){a.exports=s.p+"assets/img/install-pkg.f47a1e5c.png"},503:function(a,t,s){a.exports=s.p+"assets/img/done.d6ea4a58.png"},504:function(a,t,s){a.exports=s.p+"assets/img/gib-location.8afc21af.png"},505:function(a,t,s){a.exports=s.p+"assets/img/gib-done.28275135.png"},506:function(a,t,s){a.exports=s.p+"assets/img/unsupported.679e01e6.png"},507:function(a,t,s){a.exports=s.p+"assets/img/mount.d471affc.png"},508:function(a,t,s){a.exports=s.p+"assets/img/fat32-erase.d4148162.png"},509:function(a,t,s){a.exports=s.p+"assets/img/dmg-chunklist.c22cb668.png"},510:function(a,t,s){a.exports=s.p+"assets/img/pre-restore.7cbd2b4d.png"},511:function(a,t,s){a.exports=s.p+"assets/img/restore.4a8e8078.png"},512:function(a,t,s){a.exports=s.p+"assets/img/sip-fail.f3b6ef3b.png"},513:function(a,t,s){a.exports=s.p+"assets/img/download.974b60da.png"},514:function(a,t,s){a.exports=s.p+"assets/img/boot-disk.73bf04f5.png"},515:function(a,t,s){a.exports=s.p+"assets/img/boot-done.48b57b22.png"},516:function(a,t,s){a.exports=s.p+"assets/img/efi-base.2af0e24a.png"},517:function(a,t,s){a.exports=s.p+"assets/img/mount-efi-usb.c855475e.png"},518:function(a,t,s){a.exports=s.p+"assets/img/base-efi.3b1f0304.png"},632:function(a,t,s){"use strict";s.r(t);var e=s(25),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"在-macos-中创建安装器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在-macos-中创建安装器"}},[a._v("#")]),a._v(" 在 macOS 中创建安装器")]),a._v(" "),e("ul",[e("li",[a._v("支持的版本：0.6.4")])]),a._v(" "),e("p",[a._v("虽然你不需要进行一次完全重新安装以使用 OpenCore，但是建议一些用户对他们的引导管理器升级进行完全的重新安排。")]),a._v(" "),e("p",[a._v("我们将会以获得一份 macOS 副本为开始。如果你只是想制作一个 OpenCore 启动盘，你可以跳过这个部分并跳转到格式化 USB。对其他的人，你可以从 App Store 下载 macOS 或者使用 gibMacOS。")]),a._v(" "),e("h2",{attrs:{id:"下载-macos-较新版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载-macos-较新版本"}},[a._v("#")]),a._v(" 下载 macOS：较新版本")]),a._v(" "),e("ul",[e("li",[a._v("这个方式允许你下载 macOS 10.13 和更高版本，对于 10.12 和更低版本请查看"),e("a",{attrs:{href:"#%E4%B8%8B%E8%BD%BD-macos-%E7%BB%8F%E5%85%B8%E7%89%88%E6%9C%AC"}},[a._v("下载 macOS：经典版本")])])]),a._v(" "),e("p",[a._v("在一台安装了 macOS 的设备上，获取你想要安装的 macOS 版本，只需直接进入 App Store 并下载想要的操作系统发行版，然后继续查看 "),e("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85%E5%99%A8"}},[e("strong",[a._v("创建安装器")])]),a._v("。")]),a._v(" "),e("p",[a._v("如果需要明确的操作系统发行版，或者无法从 App Store 下载，你可以使用实用工具 gibMacOS。")]),a._v(" "),e("p",[a._v("那么现在我们来获取 "),e("a",{attrs:{href:"https://github.com/corpnewt/gibMacOS",target:"_blank",rel:"noopener noreferrer"}},[a._v("gibMacOS"),e("OutboundLink")],1),a._v("，然后将它提取到一个本地的目录。")]),a._v(" "),e("p",[a._v("然后运行 "),e("code",[a._v("gibMacOS.command")]),a._v("：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(499),alt:""}})]),a._v(" "),e("p",[a._v("就如你所看到的一样，我们获得了 macOS 安装器的一个优质列表。如果你需要测试版的 macOS，你可以选择 "),e("code",[a._v("C. Change Catalog")]),a._v("。在这个示例中我们将选择 1：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(500),alt:""}})]),a._v(" "),e("ul",[e("li",[e("strong",[a._v("macOS 11 Big Sur 注意事项")]),a._v("：因为这个操作系统太新了，依然有一些确定的问题需要系统来解决。对于更多的信息，参阅此处："),e("RouterLink",{attrs:{to:"/extras/big-sur/"}},[a._v("OpenCore 和 macOS 11: Big Sur")]),a._v(" "),e("ul",[e("li",[a._v("对于第一次使用的用户，我们推荐 10.15 Catalina")])])],1),a._v(" "),e("li",[e("strong",[a._v("Nvidia 显卡注意事项")]),a._v("：记得确认你的硬件是否支持较新的操作系统，请参阅"),e("RouterLink",{attrs:{to:"/macos-limits.html"}},[a._v("硬件限制")])],1)]),a._v(" "),e("p",[a._v("这会需要一定的时间，因为我们正在下载总共 8GB+ 的 macOS 安裝程序，所以强烈推荐在你等待的时候阅读剩下的指南。")]),a._v(" "),e("p",[a._v("一旦完成，我们必须提取安装程序或者构建它：")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%E6%8F%90%E5%8F%96%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F"}},[a._v("提取安装程序")]),a._v(" "),e("ul",[e("li",[a._v("对于 macOS 11+")])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%E6%9E%84%E5%BB%BA%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F"}},[a._v("构建安装程序")]),a._v(" "),e("ul",[e("li",[a._v("对于 10.15 和更低版本")])])])]),a._v(" "),e("h3",{attrs:{id:"提取安装程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#提取安装程序"}},[a._v("#")]),a._v(" 提取安装程序")]),a._v(" "),e("p",[a._v("对于 macOS 11 和更高版本，Apple 现在将安装器打包在了 InstallAssistant（安装助理）包中。它会位于 "),e("code",[a._v("gibMacOS/macOS Downloads/")]),a._v("：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(501),alt:""}})]),a._v(" "),e("p",[a._v("运行 InstallAssistant.pkg 然后选择你要用于启动的驱动器，这将是 Install.app 被放置到的位置：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(502),alt:""}})]),a._v(" "),e("p",[a._v("一旦完成，你应该可以在你的应用程序目录中找到它：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(503),alt:""}})]),a._v(" "),e("p",[a._v("这样就可以跳转至"),e("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85%E5%99%A8"}},[a._v("创建安装器")]),a._v("以完成你的工作了。")]),a._v(" "),e("h3",{attrs:{id:"构建安装程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#构建安装程序"}},[a._v("#")]),a._v(" 构建安装程序")]),a._v(" "),e("p",[a._v("对于 macOS 10.15 和更低版本，安装器将会被作为多个部分下载，所以需要被构建。此处我们需要运行 "),e("code",[a._v("BuildmacOSInstallApp.command")]),a._v("：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(504),alt:""}})]),a._v(" "),e("p",[a._v("程序将会提示您放入已经下载到 gibMacOS 目录中的 "),e("code",[a._v("macOS Downloads")]),a._v(" 下的文件。")]),a._v(" "),e("p",[a._v("在访达中，进入下载了文件的目录然后把它拖放到命令行中，或者“Cmd+C”并将它粘贴至终端内。")]),a._v(" "),e("p",[a._v("一旦任务完成，退出这个实用工具。你将会在目录中找到安装文件。")]),a._v(" "),e("p",[a._v("将新构建的安装程序移动到应用程序目录——这将简化下一个部分。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(505),alt:""}})]),a._v(" "),e("p",[a._v("这样就可以跳转至"),e("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85%E5%99%A8"}},[a._v("创建安装器")]),a._v("以完成你的工作了。")]),a._v(" "),e("h2",{attrs:{id:"下载-macos-经典版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载-macos-经典版本"}},[a._v("#")]),a._v(" 下载 macOS：经典版本")]),a._v(" "),e("ul",[e("li",[a._v("此方式允许你下载很多的旧版本 OS X，当前支持所有 OS X 的英特尔版本（10.4 至当前版本）")])]),a._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[a._v("获取经典版本的 macOS：离线方式（支持 10.10-10.12）")]),a._v(" "),e("h3",{attrs:{id:"经典版本-macos-离线方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#经典版本-macos-离线方式"}},[a._v("#")]),a._v(" 经典版本 macOS：离线方式")]),a._v(" "),e("p",[a._v("此方式允许我们从 Apple 下载完整的安装器，但是限制到了 10.10 Yosemite，所以更旧的操作系统需要通过下方提到的“在线方式”获取。")]),a._v(" "),e("p",[a._v("跳转到下方的其中一个链接以开始：")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://support.apple.com/en-ca/HT210717",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to upgrade to OS X Yosemite"),e("OutboundLink")],1),a._v("（如何升级到 OS X Yosemite）")]),a._v(" "),e("li",[e("a",{attrs:{href:"https://support.apple.com/en-us/HT206886",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to upgrade to OS X El Capitan"),e("OutboundLink")],1),a._v("（如何升级到 OS X EI Capitan）")]),a._v(" "),e("li",[e("a",{attrs:{href:"https://support.apple.com/en-us/HT208202",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to upgrade to macOS Sierra"),e("OutboundLink")],1),a._v("（如何升级到 macOS Sierra）")])]),a._v(" "),e("blockquote",[e("p",[a._v("译者注：上方链接页面暂时只有英文版本。如果您想获得中文文档，请点击"),e("a",{attrs:{href:"https://support.apple.com/zh-cn/HT211683",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),e("OutboundLink")],1),a._v("。但是，中文版本的页面可能与英文版本有一些出入。")])]),a._v(" "),e("p",[a._v("在第 4 步中，你将会看到 Sierra 的 "),e("code",[a._v("InstallOS.dmg")]),a._v(" 或 EI Capitan 及更旧操作系统的 "),e("code",[a._v("InstallMacOSX.dmg")]),a._v("。下载你需要的版本，一个 .pkg 文件将会提供给你。")]),a._v(" "),e("p",[a._v("取决于你在什么操作系统中，你可以运行脚本并跳转到"),e("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85%E5%99%A8"}},[a._v("创建安装器")]),a._v("，但如果你遇到了此错误：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(506),alt:""}})]),a._v(" "),e("p",[a._v("这说明我们需要手动提取安装程序。")]),a._v(" "),e("h3",{attrs:{id:"提取安装程序-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#提取安装程序-2"}},[a._v("#")]),a._v(" 提取安装程序")]),a._v(" "),e("p",[a._v("获取 InstallMacOSX/InstallOS.dmg 并挂载以开始：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(507),alt:""}})]),a._v(" "),e("p",[a._v("下一步，我们来打开终端窗口，然后在我们的桌面创建一个文件夹来做准备。每次运行一行：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/Desktop\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" MacInstall "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" MacInstall\n")])])]),e("p",[a._v("现在我们到了好玩的部分了，解压安装器（记注，这可能需要花费一些时间）：")]),a._v(" "),e("ul",[e("li",[a._v("对于 EI Capitan（10.11）和更旧的操作系统：")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("xar -xf /Volumes/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X/InstallMacOSX.pkg\n")])])]),e("ul",[e("li",[a._v("对于 Sierra（10.12）：")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("xar -xf /Volumes/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" macOS/InstallOS.pkg\n")])])]),e("p",[a._v("接下来，运行下面的命令（一次一行）：")]),a._v(" "),e("ul",[e("li",[a._v("Yosemite：")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" InstallMacOSX.pkg\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" xvzf Payload\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" InstallESD.dmg Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Yosemite.app/Contents/SharedSupport/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Yosemite.app /Applications\n")])])]),e("ul",[e("li",[a._v("El Capitan：")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" InstallMacOSX.pkg\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" xvzf Payload\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" InstallESD.dmg Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" El"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Capitan.app/Contents/SharedSupport/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" El"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Capitan.app /Applications\n")])])]),e("ul",[e("li",[a._v("Sierra：")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" InstallOS.pkg\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" xvzf Payload\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" InstallESD.dmg Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" macOS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Sierra.app/Contents/SharedSupport/\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mv")]),a._v(" Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" macOS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Sierra.app /Applications\n")])])]),e("p",[a._v("一旦完成，你就可以跳转到"),e("a",{attrs:{href:"#%E5%88%9B%E5%BB%BA%E5%AE%89%E8%A3%85%E5%99%A8"}},[a._v("创建安装器")]),a._v("了！")])]),a._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[a._v("获取经典版本的 macOS：在线方式（支持 10.7-10.15）")]),a._v(" "),e("h3",{attrs:{id:"经典版本-macos-在线方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#经典版本-macos-在线方式"}},[a._v("#")]),a._v(" 经典版本 macOS：在线方式")]),a._v(" "),e("p",[a._v("此方式允许我们从 Apple 下载经典版本的 macOS，包括 10.7 到当前版本，但是这些支持恢复模式的安装器，所以需要安装器内部有互联网连接")]),a._v(" "),e("p",[a._v("你将会使用 macrecovery.py 作为替代以开始。此工具实际上已经捆绑在了 OpenCorePkg 中：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(360),alt:""}})]),a._v(" "),e("p",[a._v("对于运行的说明非常简单，选择下方的其中一个命令，具体取决于你想要下载哪一个操作系统：")]),a._v(" "),e("ul",[e("li",[a._v("注意：0.6.4 和更旧的 macrecovery.py 的构建已损坏，你需要从"),e("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/archive/master.zip",target:"_blank",rel:"noopener noreferrer"}},[a._v("下载 master 分支的副本"),e("OutboundLink")],1),a._v("下载它并使用置于 "),e("code",[a._v("Utilities/macrecovery/")]),a._v(" 目录下的那一个")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Lion（10.7）：")]),a._v("\npython ./macrecovery.py -b Mac-2E6FAB96566FE58C -m 00000000000F25Y00 download\npython ./macrecovery.py -b Mac-C3EC7CD22292981F -m 00000000000F0HM00 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Mountain Lion（10.8）：")]),a._v("\npython ./macrecovery.py -b Mac-7DF2A3B5E5D671ED -m 00000000000F65100 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Mavericks（10.9）：")]),a._v("\npython ./macrecovery.py -b Mac-F60DEB81FF30ACF6 -m 00000000000FNN100 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Yosemite（10.10）：")]),a._v("\npython ./macrecovery.py -b Mac-E43C1C25D4880AD6 -m 00000000000GDVW00 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# El Capitan（10.11）：")]),a._v("\npython ./macrecovery.py -b Mac-FFE5EF870D7BA81A -m 00000000000GQRX00 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Sierra（10.12）：")]),a._v("\npython ./macrecovery.py -b Mac-77F17D7DA9285301 -m 00000000000J0DX00 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# High Sierra（10.13）")]),a._v("\npython ./macrecovery.py -b Mac-7BA5B2D9E42DDD94 -m 00000000000J80300 download\npython ./macrecovery.py -b Mac-BE088AF8C5EB4FA2 -m 00000000000J80300 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Mojave（10.14）")]),a._v("\npython ./macrecovery.py -b Mac-7BA5B2DFE22DDD8C -m 00000000000KXPG00 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Catalina（10.15）")]),a._v("\npython ./macrecovery.py -b Mac-00BE6ED71E35EB86 -m 00000000000000000 download\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 最新版本")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 例如：Big Sur（11）")]),a._v("\npython ./macrecovery.py -b Mac-E43C1C25D4880AD6 -m 00000000000000000 download\n")])])]),e("p",[a._v("在终端中运行此处的一行命令，一旦完成，你将会得到类似下面的输出：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(361),alt:""}})]),a._v(" "),e("p",[a._v("一旦这项工作完成，使用 GUID 分区表将你的 USB 驱动器格式化为 FAT32 格式：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(508),alt:""}})]),a._v(" "),e("p",[a._v("最后，在此驱动器的根目录创建一个名为 "),e("code",[a._v("com.apple.recovery.boot")]),a._v(" 的文件夹，并且将新下载的 BaseSystem 或恢复模式映像（RecoveryImage）文件放进去：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(509),alt:""}})]),a._v(" "),e("p",[a._v("至此，你可以跳转到"),e("a",{attrs:{href:"#%E9%85%8D%E7%BD%AE-opencore-%E7%9A%84-efi-%E6%BA%90"}},[a._v("配置 OpenCore 的 EFI 源")]),a._v("了")])]),a._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[a._v("获取经典版本的 macOS：磁盘映像（支持 10.4-10.6）")]),a._v(" "),e("h3",{attrs:{id:"经典版本-macos-磁盘映像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#经典版本-macos-磁盘映像"}},[a._v("#")]),a._v(" 经典版本 macOS：磁盘映像")]),a._v(" "),e("p",[a._v("此方式依赖从 Apple 或 Acidanthera 的托管映像，并将其恢复到您的驱动器。")]),a._v(" "),e("h4",{attrs:{id:"acidanthera-的映像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#acidanthera-的映像"}},[a._v("#")]),a._v(" Acidanthera 的映像")]),a._v(" "),e("p",[a._v("以下的安装器是从真正的 Mac 的还原磁盘中拉取出的，其 SMBIOS 锁已移除，OS X 本身的内容未以任何方式进行修改。")]),a._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://mega.nz/folder/D3ASzLzA#7sjYXE2X09f6aGjol_C7dg",target:"_blank",rel:"noopener noreferrer"}},[a._v("OS X 10.4.10(8R4088)"),e("OutboundLink")],1)])]),a._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://mega.nz/folder/inRBTarD#zanf7fUbviwz3WHBU5xpCg",target:"_blank",rel:"noopener noreferrer"}},[a._v("OS X 10.5.7(9J3050)"),e("OutboundLink")],1)])]),a._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://mega.nz/folder/z5YUhYTb#gA_IRY5KMuYpnNCg7kR3ug/file/ioQkTagI",target:"_blank",rel:"noopener noreferrer"}},[a._v("OS X 10.6.7(10J4139)"),e("OutboundLink")],1)])])]),a._v(" "),e("h4",{attrs:{id:"apple-的映像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apple-的映像"}},[a._v("#")]),a._v(" Apple 的映像")]),a._v(" "),e("p",[a._v("注意，这些镜像需要你有一个 Apple 开发者账号以访问。")]),a._v(" "),e("ul",[e("li",[e("p",[e("a",{attrs:{href:"https://download.developer.apple.com/Mac_OS_X/mac_os_x_v10.5_leopard_9a581/leopard_9a581_userdvd.dmg",target:"_blank",rel:"noopener noreferrer"}},[a._v("OS X 10.5.0 Golden Master（最终版本）(9a581)"),e("OutboundLink")],1)])]),a._v(" "),e("li",[e("p",[e("a",{attrs:{href:"https://download.developer.apple.com/Mac_OS_X/mac_os_x_version_10.6_snow_leopard_build_10a432/mac_os_x_v10.6_build_10a432_user_dvd.dmg",target:"_blank",rel:"noopener noreferrer"}},[a._v("OS X 10.6.0 Golden Master（最终版本）(10a432)"),e("OutboundLink")],1)])])]),a._v(" "),e("h3",{attrs:{id:"恢复驱动器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#恢复驱动器"}},[a._v("#")]),a._v(" 恢复驱动器")]),a._v(" "),e("p",[a._v("现在来到了有趣的部分，你需要首先打开你刚刚下载的 dmg 并挂载它。现在打开磁盘工具并将你的驱动器格式化为使用 GUID 分区表的 macOS 扩展（HFS+）格式：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(371),alt:"格式化 USB 驱动器"}})]),a._v(" "),e("p",[a._v("接下来有 2 个可以跟随的选项：")]),a._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#asr"}},[a._v("ASR 恢复")]),a._v("（Apple Software Restore，Apple 软件恢复）\n"),e("ul",[e("li",[a._v("基于终端，在系统完整性保护打开的情况下使用")])])]),a._v(" "),e("li",[e("a",{attrs:{href:"#%E7%A3%81%E7%9B%98%E5%B7%A5%E5%85%B7"}},[a._v("磁盘工具恢复")]),a._v(" "),e("ul",[e("li",[a._v("在较新的系统中可能需要关闭系统完整性保护")])])])]),a._v(" "),e("h4",{attrs:{id:"asr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#asr"}},[a._v("#")]),a._v(" ASR")]),a._v(" "),e("p",[a._v("在这里，您只需简单地打开终端并运行以下命令：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" asr restore -source /Volumes/Mac"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" DVD  -target /Volumes/MyVolume -erase -noverify\n")])])]),e("ul",[e("li",[e("strong",[a._v("注意")]),a._v("：这可能与您的配置不一致，请对照更改：\n"),e("ul",[e("li",[a._v("将 "),e("code",[a._v("/Volumes/Mac\\ OS\\ X\\ Install\\ DVD")]),a._v(" 更改为你所挂载的磁盘镜像的名称")]),a._v(" "),e("li",[a._v("将 "),e("code",[a._v("/Volumes/MyVolume")]),a._v(" 更改为你的 USB 上宗卷的名称")])])])]),a._v(" "),e("p",[a._v("这将会花费一定的时间，但你一旦完成，即可跳转到"),e("a",{attrs:{href:"#%E9%85%8D%E7%BD%AE-opencore-%E7%9A%84-efi-%E6%BA%90"}},[a._v("配置 OpenCore 的 EFI 源")])]),a._v(" "),e("h4",{attrs:{id:"磁盘工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#磁盘工具"}},[a._v("#")]),a._v(" 磁盘工具")]),a._v(" "),e("p",[a._v("由于磁盘工具的一些让人讨厌的问题，在系统完整性保护打开的情况下，很多的恢复都会失败。如果你遇到问题，我们推荐你使用 "),e("a",{attrs:{href:"#asr"}},[a._v("ASR 方式")]),a._v("或者关闭系统完整性保护。")]),a._v(" "),e("p",[a._v("打开磁盘工具以开始，你应该在侧边栏中同时看到你的 USB 驱动器和磁盘映像。在这种情况下，选择恢复")]),a._v(" "),e("p",[e("img",{attrs:{src:s(510),alt:""}}),a._v(" "),e("img",{attrs:{src:s(511),alt:""}})]),a._v(" "),e("p",[a._v("这将会花费一定的时间，但你一旦完成，即可跳转到"),e("a",{attrs:{href:"#%E9%85%8D%E7%BD%AE-opencore-%E7%9A%84-efi-%E6%BA%90"}},[a._v("配置 OpenCore 的 EFI 源")])]),a._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[a._v("故障排除")]),a._v(" "),e("p",[a._v("如果你遇到了错误，比如在恢复时出现这种情况：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(512),alt:""}})]),a._v(" "),e("p",[a._v("这很可能表示系统完整性保护需要关闭，但是我们推荐以 "),e("a",{attrs:{href:"#asr"}},[a._v("ASR 方式")]),a._v("来代替。")])])]),a._v(" "),e("h2",{attrs:{id:"创建安装器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建安装器"}},[a._v("#")]),a._v(" 创建安装器")]),a._v(" "),e("p",[a._v("现在我们将要格式化 USB 驱动器以准备 macOS 安装程序和 OpenCore。我们要使用 GUID 分区表和 macOS 扩展（HFS+）分区格式。这将会创建两个分区：主要的 "),e("code",[a._v("MyVolume")]),a._v(" 和另一个用于让你的固件获取引导文件以启动的，名为 "),e("code",[a._v("EFI")]),a._v(" 的分区。")]),a._v(" "),e("ul",[e("li",[a._v("注意：默认情况下，磁盘工具只会显示分区——按 Cmd/Win+2 以显示所有设备（或者你也可以点按“视图”按钮）")]),a._v(" "),e("li",[a._v("注意 2：跟随“经典版本的 macOS：在线方式”部分的用户可以跳转到"),e("a",{attrs:{href:"#%E9%85%8D%E7%BD%AE-opencore-%E7%9A%84-efi-%E6%BA%90"}},[a._v("配置 OpenCore 的 EFI 源")])])]),a._v(" "),e("p",[e("img",{attrs:{src:s(371),alt:"格式化 USB 驱动器"}})]),a._v(" "),e("p",[a._v("然后运行 "),e("a",{attrs:{href:"https://support.apple.com/en-us/HT201372",target:"_blank",rel:"noopener noreferrer"}},[a._v("Apple"),e("OutboundLink")],1),a._v(" 提供的 "),e("code",[a._v("createinstallmedia")]),a._v(" 命令。注意，此命令是为已经格式化，并且名称为 "),e("code",[a._v("MyVolume")]),a._v(" 的 USB 驱动器准备的：")]),a._v(" "),e("blockquote",[e("p",[a._v("译者注：上方链接页面的简体中文版本请点击"),e("a",{attrs:{href:"https://support.apple.com/zh-cn/HT201372",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),e("OutboundLink")],1),a._v("。")])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" macOS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Big"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Sur.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume\n")])])]),e("p",[a._v("这将会花费一些时间，所以你可能会需要获得一杯咖啡或者继续阅读指南（说句公道话，你真的不应该在没有阅读整篇指南前一步一步地跟随这份指南）。")]),a._v(" "),e("p",[a._v("你也可以将 "),e("code",[a._v("createinstallmedia")]),a._v(" 中的路径替换为你的安装程序所在的路径（驱动器的名称也一样）。")]),a._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[a._v("经典版本的 createinstallmedia 命令")]),a._v(" "),e("p",[a._v("从 Apple 自己的网站上拉取的："),e("a",{attrs:{href:"https://support.apple.com/en-us/HT201372",target:"_blank",rel:"noopener noreferrer"}},[a._v("How to create a bootable installer for macOS"),e("OutboundLink")],1)]),a._v(" "),e("blockquote",[e("p",[a._v("译者注：上方链接页面的简体中文版本："),e("a",{attrs:{href:"https://support.apple.com/zh-cn/HT201372",target:"_blank",rel:"noopener noreferrer"}},[a._v("如何创建可引导的 macOS 安装器"),e("OutboundLink")],1)])]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Catalina")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" macOS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Catalina.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Mojave")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" macOS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# High Sierra")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" macOS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" High"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Sierra")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" macOS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# El Capitan")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" El"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Capitan.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume --applicationpath /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" El"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Capitan.app\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Yosemite")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Yosemite.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume --applicationpath /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Yosemite.app\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Mavericks")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Mavericks.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume --applicationpath /Applications/Install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" OS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" X"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" Mavericks.app --nointeraction\n")])])])]),a._v(" "),e("h2",{attrs:{id:"经典设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#经典设置"}},[a._v("#")]),a._v(" 经典设置")]),a._v(" "),e("p",[a._v("对于不支持 UEFI 启动的系统，查看下面的部分：")]),a._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[a._v("配置经典启动")]),a._v(" "),e("p",[a._v("你需要跟随下面的说明来开始：")]),a._v(" "),e("ul",[e("li",[a._v("BootInstall_IA32.tool 或者 BootInstall_X64.tool\n"),e("ul",[e("li",[a._v("这可以在 OpenCorePkg 中的 "),e("code",[a._v("/Utilties/LegacyBoot/")]),a._v(" 目录下找到")])])]),a._v(" "),e("li",[a._v("USB 安装器（在之前创建的）")])]),a._v(" "),e("p",[a._v("在你的 OpenCore 构建的文件夹中，打开 "),e("code",[a._v("Utilities/LegacyBoot")]),a._v("。你会找到一个名为 "),e("code",[a._v("BootInstall_ARCH.tool")]),a._v(" 的文件。这是用来在你需要的驱动器上安装 DuetPkg 的工具。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(513),alt:"引导加载程序安装器的位置"}})]),a._v(" "),e("p",[a._v("现在"),e("strong",[a._v("配合 sudo")]),a._v("运行此命令（否则此工具很可能无法使用）：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 如果你的 CPU 是 32 位的，请将 X64 替换为 IA32")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" ~/Downloads/OpenCore/Utilities/legacyBoot/BootInstall_X64.tool\n")])])]),e("p",[e("img",{attrs:{src:s(514),alt:"磁盘选择/写入新的主引导记录"}})]),a._v(" "),e("p",[a._v("这将会给你一个可用磁盘的列表，选择你需要的，你将会被提示要写入一个新的主引导记录。按 "),e("code",[a._v("[y]")]),a._v(" 以选择“确定”，然后你就完成了。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(515),alt:"完成安装器"}})]),a._v(" "),e("p",[e("img",{attrs:{src:s(516),alt:"基础 EFI"}})]),a._v(" "),e("p",[a._v("这将会为你提供一个带有 "),e("strong",[a._v("bootia32")]),a._v(" 或 "),e("strong",[a._v("bootx64")]),a._v(" 文件的 EFI 分区")])]),a._v(" "),e("h2",{attrs:{id:"设置-opencore-的-efi-环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置-opencore-的-efi-环境"}},[a._v("#")]),a._v(" 设置 OpenCore 的 EFI 环境")]),a._v(" "),e("p",[a._v("设置 OpenCore 的 EFI 环境很简单——你需要做的就是挂载我们的 EFI 分区。EFI 分区会在我们使用 GUID 分区表格式化的时候就被创建好，但是默认情况下不会被挂载，这时我们的朋友 "),e("a",{attrs:{href:"https://github.com/corpnewt/MountEFI",target:"_blank",rel:"noopener noreferrer"}},[a._v("MountEFI"),e("OutboundLink")],1),a._v(" 就要出场了：")]),a._v(" "),e("p",[e("img",{attrs:{src:s(517),alt:"MountEFI"}})]),a._v(" "),e("p",[a._v("你会注意到当我们打开 EFI 分区的时候，它是空的。这也就是快乐开始的地方。")]),a._v(" "),e("p",[e("img",{attrs:{src:s(518),alt:"空白的 EFI 分区"}})]),a._v(" "),e("h2",{attrs:{id:"现在所有事项都已完成-跳转到设置-efi-以完成你的工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#现在所有事项都已完成-跳转到设置-efi-以完成你的工作"}},[a._v("#")]),a._v(" 现在所有事项都已完成，跳转到"),e("RouterLink",{attrs:{to:"/installer-guide/opencore-efi.html"}},[a._v("设置 EFI")]),a._v(" 以完成你的工作")],1)])}),[],!1,null,null,null);t.default=n.exports}}]);