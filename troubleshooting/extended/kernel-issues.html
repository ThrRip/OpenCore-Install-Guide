<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Kernel Issues | OpenCore 安装指南</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="&#39;stylesheet" href="/OpenCore-Install-Guide/styles/website.css">
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/OpenCore-Install-Guide/assets/css/0.styles.7dca37df.css" as="style"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/app.bf3defe5.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/2.01053c60.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/37.ae7b48e5.js" as="script"><link rel="preload" href="/OpenCore-Install-Guide/assets/js/52.1d242fc2.js" as="script"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/10.4af7e818.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/11.659f69c3.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/12.f4b42ca0.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/13.f1ffa398.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/14.3b511c41.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/15.35d2fcab.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/16.18a8e1f2.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/17.bf73e2b1.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/18.b29ccf67.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/19.cf31ae76.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/20.ba50b6a5.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/21.aa028b12.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/22.5a8b6e67.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/23.07088793.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/24.f4ef4c32.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/25.e02fed57.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/26.30adad0f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/27.81d1836d.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/28.8a646bff.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/29.44527885.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/3.603de1c9.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/30.665a3f69.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/31.51a3db6f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/32.27ab91bc.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/33.eb4f80be.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/34.4becf336.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/35.c28a9d09.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/36.518ecc95.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/38.b0d6a5b2.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/39.6799ff52.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/4.b94be06b.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/40.5758f3c1.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/41.a3786d41.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/42.c46265ff.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/43.0228a53f.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/44.41c1debe.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/45.415ff64c.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/46.0c90c5e2.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/47.8101e8d9.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/48.ffef4aed.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/49.aa0ec8e2.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/5.a6859abe.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/50.76e76bd3.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/51.a4da6933.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/53.98e7b662.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/54.6670ec0b.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/55.7b77d444.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/56.1c6d91fc.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/57.56524cd3.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/58.82f71b9c.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/59.85f749aa.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/6.07b782c9.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/60.b80f5a87.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/61.ae2e47c4.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/62.d1ec2dc2.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/63.4100da50.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/64.c1786155.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/65.8f2eba67.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/66.5163f6aa.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/67.ec4f4850.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/68.f440071b.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/69.08c90326.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/7.6ca917eb.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/70.cfd6a551.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/71.67b171a4.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/72.09418106.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/73.ab1fe082.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/74.c210b5de.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/8.72fbadad.js"><link rel="prefetch" href="/OpenCore-Install-Guide/assets/js/9.3d5eb766.js">
    <link rel="stylesheet" href="/OpenCore-Install-Guide/assets/css/0.styles.7dca37df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OpenCore-Install-Guide/" class="home-link router-link-active"><img src="homepage.png" alt="OpenCore 安装指南" class="logo"> <span class="site-name can-hide">OpenCore 安装指南</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言菜单" class="dropdown-title"><span class="title">Dortania 指南系列 - 由 ThrRip 翻译</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://thrrip.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ThrRip 开源主站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ACPI 快速入门
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore 安装后指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GPU 买家指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  无线网卡买家指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Hackintosh 硬件避坑指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/ThrRip/OpenCore-Install-Guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="语言菜单" class="dropdown-title"><span class="title">Dortania 指南系列 - 由 ThrRip 翻译</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://thrrip.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ThrRip 开源主站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ACPI 快速入门
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  OpenCore 安装后指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GPU 买家指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  无线网卡买家指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Hackintosh 硬件避坑指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <div class="nav-item"><a role="button" aria-label="Switch to light mode" class="nav-link"><span>Switch theme</span></a></div> <a href="https://github.com/ThrRip/OpenCore-Install-Guide" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>介绍</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/prerequisites.html" class="sidebar-link">OpenCore 快速入门</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/OpenCore-Install-Guide/troubleshooting/extended/macos-limits" class="sidebar-heading clickable"><span>硬件限制</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/OpenCore-Install-Guide/terminology.html" class="sidebar-link">专业术语</a></li><li><a href="/OpenCore-Install-Guide/why-oc.html" class="sidebar-link">为什么 OpenCore 胜过 Clover 和其他引导加载程序</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>创建 USB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/OpenCore-Install-Guide/installer-guide/" class="sidebar-heading clickable open"><span>创建 USB</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/installer-guide/mac-install.html" class="sidebar-link">在 macOS 中创建安装器</a></li><li><a href="/OpenCore-Install-Guide/installer-guide/winblows-install.html" class="sidebar-link">在 Windows 中创建安装器</a></li><li><a href="/OpenCore-Install-Guide/installer-guide/linux-install.html" class="sidebar-link">在 Linux 中制作安装器</a></li></ul></section></li><li><a href="/OpenCore-Install-Guide/installer-guide/opencore-efi.html" class="sidebar-link">Adding The Base OpenCore Files</a></li><li><a href="/OpenCore-Install-Guide/ktext.html" class="sidebar-link">Gathering files</a></li><li><a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer" class="sidebar-link">ACPI 快速入门<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="/OpenCore-Install-Guide/config.plist/" class="sidebar-link">config.plist Setup</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>配置</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>英特尔桌面 config.plist</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/config.plist/penryn.html" class="sidebar-link">Penryn</a></li><li><a href="/OpenCore-Install-Guide/config.plist/clarkdale.html" class="sidebar-link">Clarkdale</a></li><li><a href="/OpenCore-Install-Guide/config.plist/sandy-bridge.html" class="sidebar-link">Sandy Bridge</a></li><li><a href="/OpenCore-Install-Guide/config.plist/ivy-bridge.html" class="sidebar-link">Ivy Bridge</a></li><li><a href="/OpenCore-Install-Guide/config.plist/haswell.html" class="sidebar-link">Haswell</a></li><li><a href="/OpenCore-Install-Guide/config.plist/skylake.html" class="sidebar-link">Skylake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/kaby-lake.html" class="sidebar-link">Kaby Lake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/coffee-lake.html" class="sidebar-link">Coffee Lake</a></li><li><a href="/OpenCore-Install-Guide/config.plist/comet-lake.html" class="sidebar-link">Comet Lake</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>英特尔笔记本电脑 config.plist</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>英特尔高端桌面 config.plist</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>AMD 桌面 config.plist</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>安装</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/installation/installation-process.html" class="sidebar-link">Installation Process</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>故障排除</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/troubleshooting/troubleshooting.html" class="sidebar-link">General Troubleshooting</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/opencore-issues.html" class="sidebar-link">OpenCore Boot Issues</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html" aria-current="page" class="active sidebar-link">Kernel Issues</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-eb-log-exitbs-start" class="sidebar-link">Stuck on [EB|#LOG:EXITBS:START]</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-endrandomseed" class="sidebar-link">Stuck on EndRandomSeed</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-after-selecting-macos-partition-in-opencore" class="sidebar-link">Stuck after selecting macOS partition in OpenCore</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kernel-panic-on-invalid-frame-pointer" class="sidebar-link">Kernel Panic on Invalid frame pointer</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-eb-ld-ofs-err-0xe-when-booting-preboot-volume" class="sidebar-link">Stuck on [EB|LD:OFS] Err(0xE) when booting preboot volume</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-ocb-loadimage-failed-security-violation" class="sidebar-link">Stuck on OCB: LoadImage failed - Security Violation</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-ocabc-memory-pool-allocation-failure-not-found" class="sidebar-link">Stuck on OCABC: Memory pool allocation failure - Not Found</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-buffer-too-small" class="sidebar-link">Stuck on Buffer Too Small</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-plist-only-kext-has-cfbundleexecutable-key" class="sidebar-link">Stuck on Plist only kext has CFBundleExecutable key</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-this-version-of-mac-os-x-is-not-supported-reason-mac" class="sidebar-link">Stuck on This version of Mac OS X is not supported: Reason Mac...</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#couldn-t-allocate-runtime-area-errors" class="sidebar-link">Couldn't allocate runtime area errors</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-rtc-pci-configuration-begins-previous-shutdown-hpet-hid-legacy" class="sidebar-link">Stuck on RTC..., PCI Configuration Begins, Previous Shutdown..., HPET, HID: Legacy...</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-at-acpi-table-loading-on-b550" class="sidebar-link">Stuck at ACPI table loading on B550</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#waiting-for-root-device-or-prohibited-sign-error" class="sidebar-link">&quot;Waiting for Root Device&quot; or Prohibited Sign error</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kernel-panic-with-iopcifamily-on-x99" class="sidebar-link">Kernel panic with IOPCIFamily on X99</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-or-near-ioconsoleusers-gioscreenlock-giolockstate-3" class="sidebar-link">Stuck on or near IOConsoleUsers: gIOScreenLock.../gIOLockState (3...</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#scrambled-screen-on-laptops" class="sidebar-link">Scrambled Screen on laptops</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#black-screen-after-ioconsoleusers-gioscreenlock-on-navi" class="sidebar-link">Black screen after IOConsoleUsers: gIOScreenLock... on Navi</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kernel-panic-cannot-perform-kext-summary" class="sidebar-link">Kernel Panic Cannot perform kext summary</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kernel-panic-appleintelmcereporter" class="sidebar-link">Kernel Panic AppleIntelMCEReporter</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kernel-panic-appleintelcpupowermanagement" class="sidebar-link">Kernel Panic AppleIntelCPUPowerManagement</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#macos-frozen-right-before-login" class="sidebar-link">macOS frozen right before login</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#keyboard-works-but-trackpad-does-not" class="sidebar-link">Keyboard works but trackpad does not</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kextd-stall-0-appleacpicpu" class="sidebar-link">kextd stall[0]: AppleACPICPU</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kernel-panic-on-appleinteli210ethernet" class="sidebar-link">Kernel Panic on AppleIntelI210Ethernet</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kernel-panic-on-wrong-cd-clock-frequency-with-icelake-laptop" class="sidebar-link">Kernel panic on &quot;Wrong CD Clock Frequency&quot; with Icelake laptop</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#kernel-panic-on-cckprng-int-gen" class="sidebar-link">Kernel panic on &quot;cckprngintgen&quot;</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-at-forcing-cs-runtime-for-entitlement-in-big-sur" class="sidebar-link">Stuck at Forcing CS_RUNTIME for entitlement in Big Sur</a></li><li class="sidebar-sub-header"><a href="/OpenCore-Install-Guide/troubleshooting/extended/kernel-issues.html#stuck-on-ramrod" class="sidebar-link">Stuck on ramrod(^^^^^^^^^^^^^)</a></li></ul></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/userspace-issues.html" class="sidebar-link">Userspace Issues</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/post-issues.html" class="sidebar-link">Post-Install Issues</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/extended/misc-issues.html" class="sidebar-link">Miscellaneous Issues</a></li></ul></section></li><li><a href="/OpenCore-Install-Guide/troubleshooting/debug.html" class="sidebar-link">OpenCore Debugging</a></li><li><a href="/OpenCore-Install-Guide/troubleshooting/boot.html" class="sidebar-link">Understanding the macOS Boot Process</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>安装后指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://dortania.github.io/OpenCore-Post-Install/" target="_blank" rel="noopener noreferrer" class="sidebar-link">安装后指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Universal</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>笔记本电脑细节</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>美化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>多重启动</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>杂项</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>附加</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/extras/kaslr-fix.html" class="sidebar-link">Fixing KASLR slide values</a></li><li><a href="/OpenCore-Install-Guide/extras/spoof.html" class="sidebar-link">Disabling GPU</a></li><li><a href="/OpenCore-Install-Guide/extras/big-sur/" class="sidebar-link">OpenCore and macOS 11: Big Sur</a></li><li><a href="https://github.com/ThrRip/OpenCore-Install-Guide/tree/master/clover-conversion" target="_blank" rel="noopener noreferrer" class="sidebar-link">从 Clover 过渡到 OpenCore<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="/OpenCore-Install-Guide/extras/smbios-support.html" class="sidebar-link">Choosing the right SMBIOS</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OpenCore-Install-Guide/CONTRIBUTING.html" class="sidebar-link">Supporting the guides</a></li><li><a href="/OpenCore-Install-Guide/misc/credit.html" class="sidebar-link">Credits</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-succinct-content content__default"><h1 id="kernel-issues"><a href="#kernel-issues" class="header-anchor">#</a> Kernel Issues</h1> <ul><li>Supported version: 0.6.4</li></ul> <p>Issues surrounding from initial booting the macOS installer to right before the install GUI pops up.</p> <ul><li><a href="#stuck-on-eb-log-exitbs-start">Stuck on <code>[EB|#LOG:EXITBS:START]</code></a></li> <li><a href="#stuck-on-endrandomseed">Stuck on EndRandomSeed</a></li> <li><a href="#stuck-after-selecting-macos-partition-in-opencore">Stuck after selecting macOS partition in OpenCore</a></li> <li><a href="#kernel-panic-on-invalid-frame-pointer">Kernel Panic on <code>Invalid frame pointer</code></a></li> <li><a href="#stuck-on-eb-ld-ofs-err-0xe-when-booting-preboot-volume">Stuck on [EB|LD:OFS] Err(0xE) when booting preboot volume</a></li> <li><a href="#stuck-on-ocb-loadimage-failed-security-violation">Stuck on <code>OCB: LoadImage failed - Security Violation</code></a></li> <li><a href="#stuck-on-ocabc-memory-pool-allocation-failure-not-found">Stuck on <code>OCABC: Memory pool allocation failure - Not Found</code></a></li> <li><a href="#stuck-on-buffer-too-small">Stuck on <code>Buffer Too Small</code></a></li> <li><a href="#stuck-on-plist-only-kext-has-cfbundleexecutable-key">Stuck on <code>Plist only kext has CFBundleExecutable key</code></a></li> <li><a href="#stuck-on-this-version-of-mac-os-x-is-not-supported-reason-mac">Stuck on <code>This version of Mac OS X is not supported: Reason Mac...</code></a></li> <li><a href="#couldn-t-allocate-runtime-area-errors"><code>Couldn't allocate runtime area</code> errors?</a></li> <li><a href="#stuck-on-rtc-pci-configuration-begins-previous-shutdown-hpet-hid-legacy">Stuck on <code>RTC...</code>, <code>PCI ConfigurationBegins</code>, <code>Previous Shutdown...</code>, <code>HPET</code>, <code>HID: Legacy...</code></a></li> <li><a href="#stuck-at-acpi-table-loading-on-b550">Stuck at ACPI Table loading on B550</a></li> <li><a href="#waiting-for-root-device-or-prohibited-sign-error">&quot;Waiting for Root Device&quot; or Prohibited Sign error</a></li> <li><a href="#kernel-panic-with-iopcifamily-on-x99">Kernel panic with IOPCIFamily on X99</a></li> <li><a href="#stuck-on-or-near-ioconsoleusers-gioscreenlock-giolockstate-3">Stuck on or near <code>IOConsoleUsers: gIOScreenLock...</code></a></li> <li><a href="#scrambled-screen-on-laptops">Scrambled Screen on laptops</a></li> <li><a href="#black-screen-after-ioconsoleusers-gioscreenlock-on-navi">Black screen after <code>IOConsoleUsers: gIOScreenLock...</code> on Navi</a></li> <li><a href="#kernel-panic-cannot-perform-kext-summary">Kernel Panic <code>Cannot perform kext summary</code></a></li> <li><a href="#kernel-panic-appleintelmcereporter">Kernel Panic <code>AppleIntelMCEReporter</code></a></li> <li><a href="#kernel-panic-appleintelcpupowermanagement">Kernel Panic <code>AppleIntelCPUPowerManagement</code></a></li> <li><a href="#keyboard-works-but-trackpad-does-not">Keyboard works but trackpad does not</a></li> <li><a href="#kernel-panic-on-invalid-frame-pointer">Kernel Panic on <code>Invalid frame pointer</code></a></li> <li><a href="#kextd-stall-0-appleacpicpu"><code>kextd stall[0]: AppleACPICPU</code></a></li> <li><a href="#kernel-panic-on-appleinteli210ethernet">Kernel Panic on AppleIntelI210Ethernet</a></li> <li><a href="#kernel-panic-on-wrong-cd-clock-frequency-with-icelake-laptop">Kernel panic on &quot;Wrong CD Clock Frequency&quot; with Icelake laptop</a></li> <li><a href="#stuck-at-forcing-cs-runtime-for-entitlement-in-big-sur">Stuck at <code>Forcing CS_RUNTIME for entitlement</code> in Big Sur</a></li> <li><a href="#stuck-on-ramrod">Stuck on <code>ramrod</code>(^^^^^^^^^^^^^)</a></li></ul> <h2 id="stuck-on-eb-log-exitbs-start"><a href="#stuck-on-eb-log-exitbs-start" class="header-anchor">#</a> Stuck on <code>[EB|#LOG:EXITBS:START]</code></h2> <p>This section will be split into 3 parts, so pay close attention:</p> <ul><li><a href="#booter-issues">Booter Issues</a></li> <li><a href="#kernel-patch-issues">Kernel Patch Issues</a></li> <li><a href="#uefi-issues">UEFI Issues</a></li> <li><a href="#virtual-machine-issues">Virtual Machine Issues</a></li></ul> <h3 id="booter-issues"><a href="#booter-issues" class="header-anchor">#</a> Booter Issues</h3> <p>The main culprits to watch for in the Booter section are:</p> <ul><li><p><strong>DevirtualiseMmio</strong></p> <ul><li>Certain MMIO spaces are still required to function correctly, so you'll need to either exclude these regions in Booter -&gt; MmioWhitelist or disable this quirk outright. More info here: <a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#using-devirtualisemmio">Using DevirtualiseMmio</a></li> <li>For TRx40 users, enable this quirk</li> <li>For X99 users, disable this quirk as it breaks with some firmwares</li></ul></li> <li><p><strong>SetupVirtualMap</strong></p> <ul><li>This quirk is required for the majority of firmwares and without it it's very common to kernel panic here, so enable it if not already
<ul><li>Mainly Z390 and older require this quirk enabled</li> <li>However, certain firmwares do not work with this quirk and so may actually cause this kernel panic:
<ul><li>Intel's Ice Lake series</li> <li>Intel's Comet Lake series(B460, H470, Z490, etc)</li> <li>AMD's B550 and A520(Latest BIOS on X570 are also included now)</li> <li>AMD's TRx40</li> <li>VMs like QEMU</li> <li>X299 2020+ BIOS updates(This applies to other X299 boards on the latest BIOS that released either in late 2019 or 2020+)</li></ul></li></ul></li></ul></li> <li><p><strong>EnableWriteUnprotector</strong></p> <ul><li>Another issue may be that macOS is conflicting with the write protection from CR0 register, to resolve this we have 2 options:
<ul><li>If your firmware supports MATs(2018+ firmwares):
<ul><li>EnableWriteUnprotector -&gt; False</li> <li>RebuildAppleMemoryMap -&gt; True</li> <li>SyncRuntimePermissions -&gt; True</li></ul></li> <li>For older firmwares:
<ul><li>EnableWriteUnprotector -&gt; True</li> <li>RebuildAppleMemoryMap -&gt; False</li> <li>SyncRuntimePermissions -&gt; False</li></ul></li> <li>Note: Some laptops(ex. Dell Inspiron 5370) even with MATs support will halt on boot up, in these cases you'll have two options:
<ul><li>Boot with the old firmware quirk combo(ie. With EnableWriteUnprotector and disable <code>RebuildAppleMemoryMap</code> + <code>SyncRuntimePermissions</code>)</li> <li>Enable <code>DevirtualiseMmio</code> and follow <a href="https://dortania.github.io/OpenCore-Install-Guide/extras/kaslr-fix.html" target="_blank" rel="noopener noreferrer">MmioWhitelist guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></li></ul></li></ul> <p>Regarding MATs support, firmwares built against EDK 2018 will support this and many OEMs have even added support all the way back to Skylake laptops. Issue is it's not always obvious if an OEM has updated the firmware, you can check the OpenCore logs whether yours supports it(<a href="/OpenCore-Install-Guide/troubleshooting/debug.html">See here how to get a log</a>):</p> <div class="language- extra-class"><pre class="language-text"><code>OCABC: MAT support is 1
</code></pre></div><ul><li>Note: <code>1</code> means it supports MATs, while <code>0</code> means it does not.</li></ul> <h3 id="kernel-patch-issues"><a href="#kernel-patch-issues" class="header-anchor">#</a> Kernel Patch Issues</h3> <p>This section will be split between Intel and AMD users:</p> <h4 id="amd-users"><a href="#amd-users" class="header-anchor">#</a> AMD Users</h4> <ul><li>Missing <a href="https://github.com/AMD-OSX/AMD_Vanilla/tree/opencore" target="_blank" rel="noopener noreferrer">kernel patches<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>(only applies for AMD CPUs, make sure they're OpenCore patches and not Clover. Clover uses <code>MatchOS</code> while OpenCore has <code>MinKernel</code> and <code>Maxkernel</code>)
<ul><li>Note outdated kernel patches will also have the same effect please ensure you're using the latest patches from AMD OS X</li></ul></li></ul> <h4 id="intel-users"><a href="#intel-users" class="header-anchor">#</a> Intel Users</h4> <ul><li><strong>AppleXcpmCfgLock</strong> and <strong>AppleCpuPmCfgLock</strong> <ul><li>Missing CFG or XCPM patches, please enable <code>AppleXcpmCfgLock</code> and <code>AppleCpuPmCfgLock</code> <ul><li>Haswell and newer only need AppleXcpmCfgLock</li> <li>Ivy Bridge and older only need AppleCpuPmCfgLock
<ul><li>Broadwell and older need AppleCpuPmCfgLock if running 10.10 or older</li></ul></li></ul></li> <li>Alternatively you can properly disable CFG-Lock: <a href="https://dortania.github.io/OpenCore-Post-Install/misc/msr-lock.html" target="_blank" rel="noopener noreferrer">Fixing CFG Lock<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><strong>AppleXcpmExtraMsrs</strong> <ul><li>May also be required, this is generally meant for Pentiums, HEDT and other odd systems not natively supported in macOS.</li></ul></li></ul> <h4 id="legacy-intel-users"><a href="#legacy-intel-users" class="header-anchor">#</a> Legacy Intel users</h4> <p>For macOS Big Sur, many firmwares have issues determining the CPU core count and thus will kernel panic too early for screen printing. Via serial, you can see the following panic:</p> <div class="language- extra-class"><pre class="language-text"><code>max_cpus_from_firmware not yet initialized
</code></pre></div><p>To resolve:</p> <ul><li>Enable <code>AvoidRuntimeDefrag</code> under Booter -&gt; Quirks
<ul><li>This should work for most firmwares</li></ul></li></ul> <p>However on certain machines like the HP Compaq DC 7900, the firmware will still panic so we need to force a CPU core count value. Only use the below patch if AvoidRuntimeDefrag didn't work:</p> <details class="custom-block details"><summary>Legacy CPU Core patch</summary> <p>To do this, Add the following patch(replacing the 04 from B8 <strong>04</strong> 00 00 00 C3 with the amount of CPU threads your hardware supports):</p> <table><thead><tr><th style="text-align:left;">Key</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Value</th></tr></thead> <tbody><tr><td style="text-align:left;">Base</td> <td style="text-align:left;">String</td> <td style="text-align:left;">_acpi_count_enabled_logical_processors</td></tr> <tr><td style="text-align:left;">Count</td> <td style="text-align:left;">Integer</td> <td style="text-align:left;">1</td></tr> <tr><td style="text-align:left;">Enabled</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">True</td></tr> <tr><td style="text-align:left;">Find</td> <td style="text-align:left;">Data</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">Identifier</td> <td style="text-align:left;">String</td> <td style="text-align:left;">Kernel</td></tr> <tr><td style="text-align:left;">Limit</td> <td style="text-align:left;">Integer</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">Mask</td> <td style="text-align:left;">Data</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">MaxKernel</td> <td style="text-align:left;">String</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">MinKernel</td> <td style="text-align:left;">String</td> <td style="text-align:left;">20.0.0</td></tr> <tr><td style="text-align:left;">Replace</td> <td style="text-align:left;">Data</td> <td style="text-align:left;">B804000000C3</td></tr> <tr><td style="text-align:left;">ReplaceMask</td> <td style="text-align:left;">Data</td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;">Skip</td> <td style="text-align:left;">Integer</td> <td style="text-align:left;">0</td></tr></tbody></table></details> <h3 id="uefi-issues"><a href="#uefi-issues" class="header-anchor">#</a> UEFI Issues</h3> <ul><li><strong>ProvideConsoleGop</strong> <ul><li>Needed for transitioning to the next screen, this was originally part of AptioMemoryFix but is now within OpenCore as this quirk. Can be found under UEFI -&gt; Output</li> <li>Note as of 0.5.6, this quirk is enabled by default in the sample.plist</li></ul></li> <li><strong>IgnoreInvalidFlexRatio</strong> <ul><li>This is needed for Broadwell and older. <strong>Not for AMD and Skylake or newer</strong></li></ul></li></ul> <h2 id="stuck-on-endrandomseed"><a href="#stuck-on-endrandomseed" class="header-anchor">#</a> Stuck on EndRandomSeed</h2> <p>Same issues above, see here for more details: <a href="#stuck-on-eb-log-exitbs-start">Stuck on <code>[EB|#LOG:EXITBS:START]</code></a></p> <h2 id="stuck-after-selecting-macos-partition-in-opencore"><a href="#stuck-after-selecting-macos-partition-in-opencore" class="header-anchor">#</a> Stuck after selecting macOS partition in OpenCore</h2> <p>Same issues above, see here for more details: <a href="#stuck-on-eb-log-exitbs-start">Stuck on <code>[EB|#LOG:EXITBS:START]</code></a></p> <ul><li>Note: Enabling <a href="/OpenCore-Install-Guide/troubleshooting/debug.html">DEBUG OpenCore</a> can help shed some light as well</li></ul> <h2 id="kernel-panic-on-invalid-frame-pointer"><a href="#kernel-panic-on-invalid-frame-pointer" class="header-anchor">#</a> Kernel Panic on <code>Invalid frame pointer</code></h2> <p>So this is due to some issue around the <code>Booter -&gt; Quirks</code> you set, main things to check for:</p> <ul><li><p><code>DevirtualiseMmio</code></p> <ul><li>Certain MMIO spaces are still required to function correctly, so you'll need to either exclude these regions in Booter -&gt; MmioWhitelist or disable this quirk outright</li> <li>More info here: <a href="/OpenCore-Install-Guide/extras/kaslr-fix.html#using-devirtualisemmio">Using DevirtualiseMmio</a></li></ul></li> <li><p><code>SetupVirtualMap</code></p> <ul><li>This quirk is required for the majority of firmwares and without it it's very common to kernel panic here, so enable it if not already
<ul><li>However, certain firmwares do not work with this quirk and so may actually cause this kernel panic:
<ul><li>Intel's Ice Lake series</li> <li>Intel's Comet Lake series</li> <li>AMD's B550</li> <li>AMD's A520</li> <li>AMD's TRx40</li> <li>VMs like QEMU</li></ul></li></ul></li></ul></li></ul> <p>Another issue may be that macOS is conflicting with the write protection from CR0 register, to resolve this we have 2 options:</p> <ul><li>If your firmware supports MATs(2018+ firmwares):
<ul><li>EnableWriteUnprotector -&gt; False</li> <li>RebuildAppleMemoryMap -&gt; True</li> <li>SyncRuntimePermissions -&gt; True</li></ul></li> <li>For older firmwares:
<ul><li>EnableWriteUnprotector -&gt; True</li> <li>RebuildAppleMemoryMap -&gt; False</li> <li>SyncRuntimePermissions -&gt; False</li></ul></li></ul> <p>Regarding MATs support, firmwares built against EDK 2018 will support this and many OEMs have even added support all the way back to Skylake laptops. Issue is it's not always obvious if an OEM has updated the firmware, you can check the OpenCore logs whether yours supports it:</p> <div class="language- extra-class"><pre class="language-text"><code>OCABC: MAT support is 1
</code></pre></div><p>Note: <code>1</code> means it supports MATs, while <code>0</code> means it does not.</p> <h2 id="stuck-on-eb-ld-ofs-err-0xe-when-booting-preboot-volume"><a href="#stuck-on-eb-ld-ofs-err-0xe-when-booting-preboot-volume" class="header-anchor">#</a> Stuck on <code>[EB|LD:OFS] Err(0xE)</code> when booting preboot volume</h2> <p>Full error:</p> <div class="language- extra-class"><pre class="language-text"><code>[EB|`LD:OFS] Err(0xE) @ OPEN (System\\Library\\PrelinkedKernels\\prelinkedkernel)
</code></pre></div><p>This can happen when the preboot volume isn't properly updated, to fix this you'll need to boot into recovery and repair it:</p> <ol><li>Enable JumpstartHotplug under UEFI -&gt; APFS(Recovery may not boot on macOS Big Sur without this option)</li> <li>Boot into recovery</li> <li>Open the terminal, and run the following:</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># First, find your Preboot volume</span>
diskutil list

<span class="token comment"># From the below list, we can see our Preboot volume is disk5s2</span>
/dev/disk5 <span class="token punctuation">(</span>synthesized<span class="token punctuation">)</span>:
   <span class="token comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   <span class="token number">0</span>:      APFS Container Scheme -                      +255.7 GB   disk5
                                 Physical Store disk4s2
   <span class="token number">1</span>:                APFS Volume ⁨Big Sur HD - Data⁩       <span class="token number">122.5</span> GB   disk5s1
   <span class="token number">2</span>:                APFS Volume ⁨Preboot⁩                 <span class="token number">309.4</span> MB   disk5s2
   <span class="token number">3</span>:                APFS Volume ⁨Recovery⁩                <span class="token number">887.8</span> MB   disk5s3
   <span class="token number">4</span>:                APFS Volume ⁨VM⁩                      <span class="token number">1.1</span> MB     disk5s4
   <span class="token number">5</span>:                APFS Volume ⁨Big Sur HD⁩              <span class="token number">16.2</span> GB    disk5s5
   <span class="token number">6</span>:              APFS Snapshot ⁨com.apple.os.update-<span class="token punctuation">..</span>.⁩ <span class="token number">16.2</span> GB    disk5s5s

<span class="token comment"># Now mount the Preboot volume</span>
diskutil <span class="token function">mount</span> disk5s2

<span class="token comment"># Next run updatePreboot on the Preboot volume</span>
diskutil apfs updatePreboot /volume/disk5s2
</code></pre></div><p>Then finally reboot</p> <h2 id="stuck-on-ocb-loadimage-failed-security-violation"><a href="#stuck-on-ocb-loadimage-failed-security-violation" class="header-anchor">#</a> Stuck on <code>OCB: LoadImage failed - Security Violation</code></h2> <div class="language- extra-class"><pre class="language-text"><code>OCSB: No suitable signature - Security Violation
OCB: Apple Secure Boot prohibits this boot entry, enforcing!
OCB: LoadImage failed - Security Violation
</code></pre></div><p>This is due to missing outdated Apple Secure Boot manifests present on your preboot volume resulting is a failure to load if you have SecureBootModel set, reason for these files being missing is actually a bug in macOS.</p> <p>To resolve this you can do one of the following:</p> <ul><li>Disable SecureBootModel
<ul><li>ie. set <code>Misc -&gt; Secuirty -&gt; SecureBootModel -&gt; Disabled</code></li></ul></li> <li>Reinstall macOS with the latest version</li> <li>Or copy over the Secure Boot manifests from <code>/usr/standalone/i386</code> to <code>/Volumes/Preboot/&lt;UUID&gt;/System/Library/CoreServices</code> <ul><li>Note you will most likely need to do this via terminal as the Preboot volume isn't easily editable via the Finder</li></ul></li></ul> <p>To do this via terminal:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># First, find your Preboot volume</span>
diskutil list

<span class="token comment"># From the below list, we can see our Preboot volume is disk5s2</span>
/dev/disk5 <span class="token punctuation">(</span>synthesized<span class="token punctuation">)</span>:
   <span class="token comment">#:                       TYPE NAME                    SIZE       IDENTIFIER</span>
   <span class="token number">0</span>:      APFS Container Scheme -                      +255.7 GB   disk5
                                 Physical Store disk4s2
   <span class="token number">1</span>:                APFS Volume ⁨Big Sur HD - Data⁩       <span class="token number">122.5</span> GB   disk5s1
   <span class="token number">2</span>:                APFS Volume ⁨Preboot⁩                 <span class="token number">309.4</span> MB   disk5s2
   <span class="token number">3</span>:                APFS Volume ⁨Recovery⁩                <span class="token number">887.8</span> MB   disk5s3
   <span class="token number">4</span>:                APFS Volume ⁨VM⁩                      <span class="token number">1.1</span> MB     disk5s4
   <span class="token number">5</span>:                APFS Volume ⁨Big Sur HD⁩              <span class="token number">16.2</span> GB    disk5s5
   <span class="token number">6</span>:              APFS Snapshot ⁨com.apple.os.update-<span class="token punctuation">..</span>.⁩ <span class="token number">16.2</span> GB    disk5s5s

<span class="token comment"># Now mount the Preboot volume</span>
diskutil <span class="token function">mount</span> disk5s2

<span class="token comment"># CD into your Preboot volume</span>
<span class="token comment"># Note the actual volume is under /System/Volumes/Preboot</span>
<span class="token builtin class-name">cd</span> /System/Volumes/Preboot

<span class="token comment"># Grab your UUID</span>
<span class="token function">ls</span>
 46923F6E-968E-46E9-AC6D-9E6141DF52FD
 CD844C38-1A25-48D5-9388-5D62AA46CFB8

<span class="token comment"># If multiple show up(ie. you dual boot multiple versions of macOS), you will</span>
<span class="token comment"># need to determine which UUID is correct.</span>
<span class="token comment"># Easiest way to determine is printing the value of .disk_label.contentDetails</span>
<span class="token comment"># of each volume.</span>
<span class="token function">cat</span> ./46923F6E-968E-46E9-AC6D-9E6141DF52FD/System/Library/CoreServices/.disk_label.contentDetails
 Big Sur HD%

<span class="token function">cat</span> ./CD844C38-1A25-48D5-9388-5D62AA46CFB8/System/Library/CoreServices/.disk_label.contentDetails
 Catalina HD%

<span class="token comment"># Next lets copy over the secure boot files</span>
<span class="token comment"># Replace CD844C38-1A25-48D5-9388-5D62AA46CFB8 with your UUID value</span>
<span class="token builtin class-name">cd</span> ~
<span class="token function">sudo</span> <span class="token function">cp</span> -a /usr/standalone/i386/. /System/Volumes/Preboot/CD844C38-1A25-48D5-9388-5D62AA46CFB8/System/Library/CoreServices
</code></pre></div><h2 id="stuck-on-ocabc-memory-pool-allocation-failure-not-found"><a href="#stuck-on-ocabc-memory-pool-allocation-failure-not-found" class="header-anchor">#</a> Stuck on <code>OCABC: Memory pool allocation failure - Not Found</code></h2> <p>This is due to incorrect BIOS settings:</p> <ul><li>Above4GDecoding is Enabled</li> <li>CSM is Disabled(Enabling Windows8.1/10 WHQL Mode can do the same on some boards)
<ul><li>Note on some laptops, CSM must be enabled</li></ul></li> <li>BIOS is up-to-date(Z390 and HEDT are known for having poorly written firmwares)</li></ul> <h2 id="stuck-on-buffer-too-small"><a href="#stuck-on-buffer-too-small" class="header-anchor">#</a> Stuck on <code>Buffer Too Small</code></h2> <ul><li>Enable Above4GDecoding in the BIOS</li></ul> <h2 id="stuck-on-plist-only-kext-has-cfbundleexecutable-key"><a href="#stuck-on-plist-only-kext-has-cfbundleexecutable-key" class="header-anchor">#</a> Stuck on <code>Plist only kext has CFBundleExecutable key</code></h2> <p>Missing or incorrect <code>Executable path</code> in your config.plist, this should be resolved by re-running ProperTree's snapshot tool(Cmd/Ctrl+R).</p> <h2 id="stuck-on-this-version-of-mac-os-x-is-not-supported-reason-mac"><a href="#stuck-on-this-version-of-mac-os-x-is-not-supported-reason-mac" class="header-anchor">#</a> Stuck on <code>This version of Mac OS X is not supported: Reason Mac...</code></h2> <p>This error happens when SMBIOS is one no longer supported by that version of macOS, make sure values are set in <code>PlatformInfo-&gt;Generic</code> with <code>Automatic</code> enabled. For a full list of supported SMBIOS and their OSes, see here: <a href="/OpenCore-Install-Guide/extras/smbios-support.html">Choosing the right SMBIOS</a></p> <details class="custom-block details"><summary>Supported SMBIOS in macOS 10.15, Catalina</summary> <ul><li>iMac13,x+</li> <li>iMacPro1,1</li> <li>MacPro6,1+</li> <li>Macmini6,x+</li> <li>MacBook8,1+</li> <li>MacBookAir5,x+</li> <li>MacBookPro9,x+</li></ul></details> <details class="custom-block details"><summary>Supported SMBIOS in macOS 11, Big Sur</summary> <ul><li>iMac14,4+</li> <li>iMacPro1,1</li> <li>MacPro6,1+</li> <li>Macmini7,1+</li> <li>MacBook8,1+</li> <li>MacBookAir6,x+</li> <li>MacBookPro11,x+</li></ul></details> <h2 id="couldn-t-allocate-runtime-area-errors"><a href="#couldn-t-allocate-runtime-area-errors" class="header-anchor">#</a> <code>Couldn't allocate runtime area</code> errors</h2> <p>See <a href="/OpenCore-Install-Guide/extras/kaslr-fix.html">Fixing KASLR slide values</a></p> <h2 id="stuck-on-rtc-pci-configuration-begins-previous-shutdown-hpet-hid-legacy"><a href="#stuck-on-rtc-pci-configuration-begins-previous-shutdown-hpet-hid-legacy" class="header-anchor">#</a> Stuck on <code>RTC...</code>, <code>PCI Configuration Begins</code>, <code>Previous Shutdown...</code>, <code>HPET</code>, <code>HID: Legacy...</code></h2> <p>Well this general area is where a lot of PCI devices are first setup and configured, and is where most booting issues will happen. Other names include:</p> <ul><li><code>apfs_module_start...</code>,</li> <li><code>Waiting for Root device</code>,</li> <li><code>Waiting on...IOResources...</code>,</li> <li><code>previous shutdown cause...</code></li></ul> <p>The main places to check:</p> <ul><li><p><strong>Missing EC patch</strong>:</p> <ul><li>Make sure you have your EC SSDT both in EFI/OC/ACPI and ACPI -&gt; Add, <strong>double check it's enabled.</strong></li> <li>If you don't have one, grab it here: <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer">Getting started with ACPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p><strong>IRQ conflict</strong>:</p> <ul><li>Most common on older laptops and pre-builts, run SSDTTime's FixHPET option and add the resulting SSDT-HPET.aml and ACPI patches to your config( the SSDT will not work without the ACPI patches)</li></ul></li> <li><p><strong>PCI allocation issue</strong>:</p> <ul><li><strong>UPDATE YOUR BIOS</strong>, make sure it's on the latest. Most OEMs have very broken PCI allocation on older firmwares, especially AMD</li> <li>Make sure either Above4G is enabled in the BIOS, if no option available then add <code>npci=0x2000</code> to boot args.
<ul><li>Some X99 and X299 boards(ie. GA-X299-UD4) may require both npci boot-arg and Above4G enabled</li> <li>AMD CPU Note: <strong>Do not have both the Above4G setting enabled and npci in boot args, they will conflict</strong></li></ul></li> <li>Other BIOS settings that are important: CSM disabled, Windows 8.1/10 UEFI Mode enabled</li></ul></li> <li><p><strong>NVMe or SATA issue</strong>:</p> <ul><li>Sometimes if either a bad SATA controller or an unsupported NVMe drive are used, you can commonly get stuck here. Things you can check:
<ul><li>Not using either a Samsung PM981 or Micron 2200S NVMe SSD</li> <li>Samsung 970EvoPlus running the latest firmware(older firmwares were known for instability and stalls, <a href="https://www.samsung.com/semiconductor/minisite/ssd/download/tools/" target="_blank" rel="noopener noreferrer">see here for more info<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)</li> <li>SATA Hot-Plug is disabled in the BIOS(more commonly to cause issues on AMD CPU based systems)</li> <li>Ensure NVMe drives are set as NVMe mode in BIOS(some BIOS have a bug where you can set NVMe drives as SATA)</li></ul></li></ul></li> <li><p><strong>NVRAM Failing</strong>:</p> <ul><li>Common issue HEDT and 300 series motherboards, you have a couple paths to go down:
<ul><li>300 Series Consumer Intel: See <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer">Getting started with ACPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on making SSDT-PMC.aml</li> <li>HEDT(ie. X99): See <a href="https://dortania.github.io/OpenCore-Post-Install/misc/nvram.html" target="_blank" rel="noopener noreferrer">Emulating NVRAM<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on how to stop NVRAM write, note that for install you do not need to run the script. Just setup the config.plist</li></ul></li></ul></li> <li><p><strong>RTC Missing</strong>:</p> <ul><li>Commonly found on Intel's 300+ series(ie. Z370, Z490), caused by the RTC clock being disabled by default. See <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer">Getting started with ACPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on creating an SSDT-AWAC.aml</li> <li>X99 and X299 have broken RTC devices, so will need to be fixed with SSDT-RTC0-RANGE. See <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer">Getting started with ACPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on creating said file</li> <li>Some drunk firmware writer at HP also disabled the RTC on the HP 250 G6 with no way to actually re-enable it, for users cursed with such hardware you'll need to create a fake RTC clock for macOS to play with:</li></ul></li></ul> <p>Example of what a disabled RTC with no way to enable looks like(note that there is no value to re-enable it like <code>STAS</code>):</p> <p><img src="/OpenCore-Install-Guide/assets/img/rtc.53522866.png" alt=""></p> <h2 id="stuck-at-acpi-table-loading-on-b550"><a href="#stuck-at-acpi-table-loading-on-b550" class="header-anchor">#</a> Stuck at ACPI table loading on B550</h2> <p><img src="/OpenCore-Install-Guide/assets/img/OC_catalina.c22fada9.jpg" alt=""></p> <p>If you're getting stuck at or near ACPI table loading with an AMD B550 or A520 motherboard, add the following SSDT:</p> <ul><li><a href="https://github.com/dortania/Getting-Started-With-ACPI/blob/master/extra-files/compiled/SSDT-CPUR.aml" target="_blank" rel="noopener noreferrer">SSDT-CPUR.aml<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>And please remember to add this SSDT to both EFI/OC/ACPI <strong>and</strong> your config.plist under ACPI -&gt; Add(ProperTree's snapshot function can do this for you)</p> <h2 id="waiting-for-root-device-or-prohibited-sign-error"><a href="#waiting-for-root-device-or-prohibited-sign-error" class="header-anchor">#</a> &quot;Waiting for Root Device&quot; or Prohibited Sign error</h2> <ul><li>Other names: Stop Sign, Scrambled</li></ul> <p>This is generally seen as a USB or SATA error, couple ways to fix:</p> <h3 id="usb-issues"><a href="#usb-issues" class="header-anchor">#</a> USB Issues</h3> <p>This assumes you're only booting the installer USB and not macOS itself.</p> <ul><li><p>If you're hitting the 15 port limit, you can temporarily get around this with <code>XhciPortLimit</code> but for long term use, we recommend making a <a href="https://dortania.github.io/OpenCore-Post-Install/usb/" target="_blank" rel="noopener noreferrer">USBmap<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li><code>Kernel -&gt; Quirks -&gt; XhciPortLimit -&gt; True</code></li></ul></li> <li><p>Another issue can be that certain firmware won't pass USB ownership to macOS</p> <ul><li><code>UEFI -&gt; Quirks -&gt; ReleaseUsbOwnership -&gt; True</code></li> <li>Enabling XHCI Handoff in the BIOS can fix this as well</li></ul></li> <li><p>Sometimes, if the USB is plugged into a 3.x port, plugging it into a 2.0 port can fix this error.</p></li> <li><p>For AMD's 15h and 16h CPUs, you may need to add the following:</p> <ul><li><a href="https://cdn.discordapp.com/attachments/566705665616117760/566728101292408877/XLNCUSBFix.kext.zip" target="_blank" rel="noopener noreferrer">XLNCUSBFix.kext<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p>If XLNCUSBFix still doesn't work, then try the following:</p> <ul><li><a href="https://cdn.discordapp.com/attachments/249992304503291905/355235241645965312/StopSign-fixv5.zip" target="_blank" rel="noopener noreferrer">AMD StopSign-fixv5<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><p>X299 Users: Enable Above4G Decoding</p> <ul><li>Odd firmware bug on X299 where USB breaks otherwise</li></ul></li> <li><p>Missing USB ports in ACPI:</p> <ul><li>For Intel's Coffee Lake and older, we recommend using <a href="https://bitbucket.org/RehabMan/os-x-usb-inject-all/downloads/" target="_blank" rel="noopener noreferrer">USBInjectAll<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>For Intel's Ice Lake and Comet Lake, we recommend <a href="https://github.com/dortania/Getting-Started-With-ACPI/blob/master/extra-files/compiled/SSDT-RHUB.aml" target="_blank" rel="noopener noreferrer">SSDT-RHUB<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li>SSDTTime's <code>7. USB Reset</code> option can do the same</li></ul></li> <li>For AMD, run SSDTTime's <code>7. USB Reset</code> option and add the provided SSDT-RHUB to your EFI and config.plist</li></ul></li></ul> <h3 id="sata-issues"><a href="#sata-issues" class="header-anchor">#</a> SATA Issues</h3> <p>On rare occasions(mainly laptops), the SATA controller isn't officially supported by macOS. To resolve this, we'll want to do a few things:</p> <ul><li>Set SATA to AHCI mode in the BIOS
<ul><li>macOS doesn't support hardware RAID or IDE mode properly.</li> <li>Note drives already using Intel Rapid Storage Technology(RST, soft RAID for Windows and Linux) will not be accessible in macOS.</li></ul></li> <li><a href="https://github.com/khronokernel/Legacy-Kexts/blob/master/Injectors/Zip/SATA-unsupported.kext.zip" target="_blank" rel="noopener noreferrer">SATA-unsupported.kext<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li>Adds support to obscure SATA controllers, commonly being laptops.</li> <li>For very legacy SATA controllers, <a href="https://www.insanelymac.com/forum/files/file/436-ahciportinjectorkext/" target="_blank" rel="noopener noreferrer">AHCIPortInjector.kext<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> may be more suitable.</li></ul></li> <li><a href="https://github.com/dortania/OpenCore-Install-Guide/blob/master/extra-files/CtlnaAHCIPort.kext.zip" target="_blank" rel="noopener noreferrer">Catalina's patched AppleAHCIPort.kext<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li>For users running macOS 11, Big Sur and having issues. This backports the known working Catalina kext, SATA-unsupported is not needed with this kext</li></ul></li></ul> <p>Note that you will only experience this issue after installing macOS onto the drive, booting the macOS installer will not error out due to SATA issues.</p> <h2 id="kernel-panic-with-iopcifamily-on-x99"><a href="#kernel-panic-with-iopcifamily-on-x99" class="header-anchor">#</a> Kernel panic with IOPCIFamily on X99</h2> <p>For those running the X99 platform from Intel, please go over the following:</p> <ul><li>The following kernel patches are enabled:
<ul><li>AppleCpuPmCfgLock</li> <li>AppleXcpmCfgLock</li> <li>AppleXcpmExtraMsrs</li></ul></li> <li>You have the following SSDTs:
<ul><li>SSDT-UNC(if not, see <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" rel="noopener noreferrer">Getting started with ACPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> on creating said file)</li></ul></li></ul> <h2 id="stuck-on-or-near-ioconsoleusers-gioscreenlock-giolockstate-3"><a href="#stuck-on-or-near-ioconsoleusers-gioscreenlock-giolockstate-3" class="header-anchor">#</a> Stuck on or near <code>IOConsoleUsers: gIOScreenLock...</code>/<code>gIOLockState (3...</code></h2> <p>This is right before the GPU is properly initialized, verify the following:</p> <ul><li>GPU is UEFI capable(GTX 7XX/2013+)</li> <li>CSM is off in the BIOS
<ul><li>May need to be enabled on laptops</li></ul></li> <li>Forcing PCIe 3.0 link speed</li> <li>Double check that ig-platform-id and device-id are valid if running an iGPU.
<ul><li>Desktop UHD 630's may need to use <code>00009B3E</code> instead</li></ul></li> <li>Trying various <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.en.md" target="_blank" rel="noopener noreferrer">WhateverGreen Fixes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li><code>-igfxmlr</code> boot argument. This can also manifest as a &quot;Divide by Zero&quot; error.</li></ul></li> <li>Coffee Lake iGPU users may also need <code>igfxonln=1</code> in 10.15.4 and newer</li></ul> <h2 id="scrambled-screen-on-laptops"><a href="#scrambled-screen-on-laptops" class="header-anchor">#</a> Scrambled Screen on laptops</h2> <p>Enable CSM in your UEFI settings. This may appear as &quot;Boot legacy ROMs&quot; or other legacy setting.</p> <h2 id="black-screen-after-ioconsoleusers-gioscreenlock-on-navi"><a href="#black-screen-after-ioconsoleusers-gioscreenlock-on-navi" class="header-anchor">#</a> Black screen after <code>IOConsoleUsers: gIOScreenLock...</code> on Navi</h2> <ul><li>Add <code>agdpmod=pikera</code> to boot args</li> <li>Switch between different display outputs</li> <li>Try running MacPro7,1 SMBIOS with the boot-arg <code>agdpmod=ignore</code></li></ul> <p>For MSI Navi users, you'll need to apply the patch mentioned here: <a href="https://github.com/acidanthera/bugtracker/issues/901" target="_blank" rel="noopener noreferrer">Installer not working with 5700XT #901<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Specifically, add the following entry under <code>Kernel -&gt; Patch</code>:</p> <details class="custom-block details"><summary>MSI Navi Patch</summary> <div class="language- extra-class"><pre class="language-text"><code>Base:
Comment: Navi VBIOS Bug Patch
Count: 1
Enabled: YES
Find: 4154592C526F6D2300
Identifier: com.apple.kext.AMDRadeonX6000Framebuffer
Limit: 0
Mask:
MinKernel: 19.00.00
MaxKernel: 19.99.99
Replace: 414D442C526F6D2300
ReplaceMask:
Skip: 0
</code></pre></div></details> <p>Note: macOS 11, Big Sur no longer requires this patch for MSI Navi.</p> <h2 id="kernel-panic-cannot-perform-kext-summary"><a href="#kernel-panic-cannot-perform-kext-summary" class="header-anchor">#</a> Kernel Panic <code>Cannot perform kext summary</code></h2> <p>Generally seen as an issue surrounding the prelinked kernel, specifically that macOS is having a hard time interpreting the ones we injected. Verify that:</p> <ul><li>Your kexts are in the correct order(master then plugins, Lilu always before the plugins)</li> <li>Kexts with executables have them and plist only kexts don't(ie. USBmap.kext, XHCI-unspported.kext, etc does not contain an executable)</li> <li>Don't include multiple of the same kexts in your config.plist(ie. including multiple copies of VoodooInput from multiple kexts, we recommend choosing the first kext in your config's array and disable the rest)</li></ul> <p>Note: this error may also look very similar to <a href="#kernel-panic-on-invalid-frame-pointer">Kernel Panic on <code>Invalid frame pointer</code></a></p> <h2 id="kernel-panic-appleintelmcereporter"><a href="#kernel-panic-appleintelmcereporter" class="header-anchor">#</a> Kernel Panic <code>AppleIntelMCEReporter</code></h2> <p>With macOS Catalina, dual socket support is broken, and a fun fact about AMD firmware is that some boards will actually report multiple socketed CPUs. To fix this, add <a href="https://github.com/acidanthera/bugtracker/files/3703498/AppleMCEReporterDisabler.kext.zip" target="_blank" rel="noopener noreferrer">AppleMCEReporterDisabler<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to both EFI/OC/Kexts and config.plist -&gt; Kernel -&gt; Add</p> <h2 id="kernel-panic-appleintelcpupowermanagement"><a href="#kernel-panic-appleintelcpupowermanagement" class="header-anchor">#</a> Kernel Panic <code>AppleIntelCPUPowerManagement</code></h2> <p>This is likely due to faulty or outright missing NullCPUPowerManagement. To fix the issue, remove NullCPUPowerManagement from <code>Kernel -&gt; Add</code> and <code>EFI/OC/Kexts</code> then enable <code>DummyPowerManagement</code> under <code>Kernel -&gt; Emulate</code></p> <ul><li><strong>Note</strong>: On older Intel CPUs(ie. Penryn and older), it may be due to IRQ conflicts or the HPET device being disabled. To resolve, you have 2 options:
<ul><li><a href="https://dortania.github.io/Getting-Started-With-ACPI/ssdt-methods/ssdt-easy.html" target="_blank" rel="noopener noreferrer">SSDTTime's FixHPET Option<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>Forcing the HPET Device on</li></ul></li></ul> <details class="custom-block details"><summary>Forcing the HPET Device on</summary> <p>Under ACPI -&gt; Patch:</p> <table><thead><tr><th style="text-align:left;">Comment</th> <th style="text-align:left;">String</th> <th style="text-align:left;">Force HPET Online</th></tr></thead> <tbody><tr><td style="text-align:left;">Enabled</td> <td style="text-align:left;">Boolean</td> <td style="text-align:left;">YES</td></tr> <tr><td style="text-align:left;">Count</td> <td style="text-align:left;">Number</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">Limit</td> <td style="text-align:left;">Number</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">Find</td> <td style="text-align:left;">Data</td> <td style="text-align:left;">A010934F53464C00</td></tr> <tr><td style="text-align:left;">Replace</td> <td style="text-align:left;">Data</td> <td style="text-align:left;">A40A0FA3A3A3A3A3</td></tr></tbody></table></details> <h2 id="macos-frozen-right-before-login"><a href="#macos-frozen-right-before-login" class="header-anchor">#</a> macOS frozen right before login</h2> <p>This is a common example of screwed up TSC, for most system add <a href="https://github.com/lvs1974/CpuTscSync" target="_blank" rel="noopener noreferrer">CpuTscSync<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>The most common way to see the TSC issue:</p> <table><thead><tr><th style="text-align:center;">Case 1</th> <th style="text-align:center;">Case 2</th></tr></thead> <tbody><tr><td style="text-align:center;"><img src="/OpenCore-Install-Guide/assets/img/asus-tsc.2397797f.png" alt=""></td> <td style="text-align:center;"><img src="/OpenCore-Install-Guide/assets/img/asus-tsc-2.029ce318.png" alt=""></td></tr></tbody></table> <h2 id="keyboard-works-but-trackpad-does-not"><a href="#keyboard-works-but-trackpad-does-not" class="header-anchor">#</a> Keyboard works but trackpad does not</h2> <p>Make sure that VoodooInput is listed <em>before</em> VoodooPS2 and VoodooI2C kexts in your config.plist.</p> <details class="custom-block details"><summary>VoodooI2C Troubleshooting</summary> <p>Check the order that your kexts load - make they match what is shown under <a href="/OpenCore-Install-Guide/ktext.html">Gathering Files</a>:</p> <ol><li>VoodooGPIO, VoodooInput, and VoodooI2CServices in any order (Found under VoodooI2C.kext/Contents/PlugIns)</li> <li>VoodooI2C</li> <li>Satellite/Plugin Kext</li></ol> <p>Make sure you have SSDT-GPIO in EFI/OC/ACPI and in your config.plist under ACPI -&gt; Add in your config.plist. If you are still having issues, reference the <a href="https://dortania.github.io/Getting-Started-With-ACPI/Laptops/trackpad.html" target="_blank" rel="noopener noreferrer">Getting Started With ACPI GPIO page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></details> <h2 id="kextd-stall-0-appleacpicpu"><a href="#kextd-stall-0-appleacpicpu" class="header-anchor">#</a> <code>kextd stall[0]: AppleACPICPU</code></h2> <p>This is due to either a missing SMC emulator or broken one, make sure of the following:</p> <ul><li>Lilu and VirtualSMC are both in EFI/OC/kexts and in your config.plist</li> <li>Lilu is before VirtualSMC in the kext list</li> <li>Last resort is to try FakeSMC instead, <strong>do not have both VirtualSMC and FakeSMC enabled</strong></li></ul> <h2 id="kernel-panic-on-appleinteli210ethernet"><a href="#kernel-panic-on-appleinteli210ethernet" class="header-anchor">#</a> Kernel Panic on AppleIntelI210Ethernet</h2> <p>For those running Comet lake motherboards with the i225-V NIC, you may experience a kernel panic on boot due to the i210 kext. To resolve this, make sure you have the correct PciRoot for your Ethernet. This commonly being either:</p> <ul><li>PciRoot(0x0)/Pci(0x1C,0x1)/Pci(0x0, 0x0)
<ul><li>By default, this is what Asus and Gigabyte motherboards use</li></ul></li> <li>PciRoot(0x0)/Pci(0x1C,0x4)/Pci(0x0,0x0)
<ul><li>Some OEMs may use this instead</li></ul></li></ul> <p>For those who can to your PciRoot manually, you'll want to install macOS fully and run the following with <a href="https://github.com/acidanthera/gfxutil/releases" target="_blank" rel="noopener noreferrer">gfxutil<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <div class="language- extra-class"><pre class="language-text"><code>/path/to/gfxutil | grep -i &quot;8086:15f3&quot;
</code></pre></div><p>This should spit out something like this:</p> <div class="language- extra-class"><pre class="language-text"><code>00:1f.6 8086:15f3 /PC00@0/GBE1@1F,6 = PciRoot(0x0)/Pci(0x1F,0x6)
</code></pre></div><p>The ending <code>PciRoot(0x0)/Pci(0x1F,0x6)</code> is what you want to add in your config.plist with device-id of <code>F2150000</code></p> <h2 id="kernel-panic-on-wrong-cd-clock-frequency-with-icelake-laptop"><a href="#kernel-panic-on-wrong-cd-clock-frequency-with-icelake-laptop" class="header-anchor">#</a> Kernel panic on &quot;Wrong CD Clock Frequency&quot; with Icelake laptop</h2> <p><img src="/OpenCore-Install-Guide/assets/img/cd-clock.ad48e008.jpg" alt=""></p> <p>To resolve this kernel panic, ensure you have <code>-igfxcdc</code> in your boot-args.</p> <h2 id="kernel-panic-on-cckprng-int-gen"><a href="#kernel-panic-on-cckprng-int-gen" class="header-anchor">#</a> Kernel panic on &quot;cckprng_int_gen&quot;</h2> <p>Full panic:</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;cckprng_int_gen: generator has already been sealed&quot;
</code></pre></div><p>This is likely to be 1 of 2 things:</p> <ul><li>Missing SMC Emulator(ie. no VirtualSMC in your config.plist or EFI)
<ul><li>Add <a href="https://github.com/acidanthera/VirtualSMC/releases" target="_blank" rel="noopener noreferrer">VirtualSMC.kext<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to your config.plist and EFI</li></ul></li> <li>Incorrect SSDT usage with SSDT-CPUR</li></ul> <p>For the latter, ensure you're only using SSDT-CPUR with <strong>B550 and A520</strong>. Do not use on X570 or older hardware(ie. B450 or A320)</p> <h2 id="stuck-at-forcing-cs-runtime-for-entitlement-in-big-sur"><a href="#stuck-at-forcing-cs-runtime-for-entitlement-in-big-sur" class="header-anchor">#</a> Stuck at <code>Forcing CS_RUNTIME for entitlement</code> in Big Sur</h2> <p><img src="/OpenCore-Install-Guide/assets/img/cs-stuck.bddc4a2d.jpg" alt="Credit to Stompy for image"></p> <p>This is actually the part at where macOS will seal the system volume, and where it may seem that macOS has gotten stuck. <strong>DO NOT RESTART</strong> thinking you're stuck, this will take quite some time to complete.</p> <h2 id="stuck-on-ramrod"><a href="#stuck-on-ramrod" class="header-anchor">#</a> Stuck on <code>ramrod</code>(^^^^^^^^^^^^^)</h2> <p><img src="/OpenCore-Install-Guide/assets/img/ramrod.55591fc5.jpg" alt="Credit to Notiflux for image"></p> <p>If you get stuck around the <code>ramrod</code> section (specifically, it boots, hits this error, and reboots again back into this, causing a loop), this hints that your SMC emulator is broken. To fix this, you have 2 options:</p> <ul><li>Ensure you're using the latest builds of VirtualSMC and Lilu, with the <code>vsmcgen=1</code> boot-arg</li> <li>Switch over to <a href="https://bitbucket.org/RehabMan/os-x-fakesmc-kozlek/downloads/" target="_blank" rel="noopener noreferrer">Rehabman's FakeSMC<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (you can use the <code>MinKernel</code>/<code>MaxKernel</code> trick mentioned above to restrict FakeSMC to Big Sur and up</li></ul> <p>And when switching kexts, ensure you don't have both FakeSMC and VirtualSMC enabled in your config.plist, as this will cause a conflict.</p> <h3 id="virtual-machine-issues"><a href="#virtual-machine-issues" class="header-anchor">#</a> Virtual Machine Issues</h3> <ul><li>VMWare 15 is known to get stuck on <code>[EB|#LOG:EXITBS:START]</code>. VMWare 16 resolves the problem.</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ThrRip/OpenCore-Install-Guide/edit/master/troubleshooting/extended/kernel-issues.md" target="_blank" rel="noopener noreferrer">帮助我们改进此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/17/2020, 6:13:04 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ⟵
      <a href="/OpenCore-Install-Guide/troubleshooting/extended/opencore-issues.html" class="prev">
        OpenCore Boot Issues
      </a></span> <span class="next"><a href="/OpenCore-Install-Guide/troubleshooting/extended/userspace-issues.html">
        Userspace Issues
      </a>
      ⟶
    </span></p></div> </main></div><div class="global-ui"><div style="visibility:hidden;display:none;"></div><!----></div></div>
    <script src="/OpenCore-Install-Guide/assets/js/app.bf3defe5.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/2.01053c60.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/37.ae7b48e5.js" defer></script><script src="/OpenCore-Install-Guide/assets/js/52.1d242fc2.js" defer></script>
  </body>
</html>
